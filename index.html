<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Cultivatr: Precision CEA Consulting &amp; Training</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- App Header -->
    <h1>Cultivatr: Precision CEA Consulting &amp; Training</h1>

    <!-- Authentication Panel -->
    <div id="authBox">
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Password" />
      <button id="signUpBtn" onclick="startSignUp()">Sign Up</button>
      <button id="signInBtn" onclick="signIn()">Log In</button>
      <button id="googleLoginBtn" onclick="googleLogin()">Sign in with Google</button>
      <button onclick="logout()" id="logoutBtn" style="display:none;">Log Out</button>
      <span id="welcome" style="display:none;"></span>
    </div>

    <!-- Controls Bar -->
    <div id="controlsBar" class="controls-bar">
      <div class="control-group">
        <label for="scenarioType"><strong>Scenario Type:</strong></label>
        <select id="scenarioType">
          <option value="generated">ğŸ§° Built-in Scenario</option>
          <option value="ai">ğŸ¤– AI-Generated Scenario</option>
        </select>
      </div>
      <div class="control-group">
        <label for="levelSelect"><strong>Select Difficulty:</strong></label>
        <select id="levelSelect">
          <option value="1">ğŸŒ± Seedling Scout</option>
          <option value="2">ğŸŒ¿ Vegetative Voyager</option>
          <option value="3">ğŸƒ Budding Specialist</option>
          <option value="4">ğŸŒ¸ Fruit & Flower Strategist</option>
          <option value="5">ğŸ“ Yield Champion</option>
          <option value="6">ğŸ§  Greenhouse Grandmaster</option>
        </select>
      </div>
      <div class="control-group">
        <label for="cropSelect"><strong>Select Crop(s):</strong></label>
        <select id="cropSelect" multiple></select>
        <span class="multi-tip">(Hold Ctrl/Cmd to select multiple)</span>
      </div>
    </div>

    <!-- Level & Symptoms -->
    <h2 id="levelTitle">ğŸ§  Level 1: Seedling Scout</h2>
    <div id="symptomsBox" class="section-container">
      <h3>ğŸ§ª Observed Symptoms</h3>
    </div>

    <!-- Crop & Environment -->
    <h2 id="cropTitle">ğŸŒ¿ Crop: Lettuce</h2>
    <div class="env-slider-container">
      <div id="environmentBox" class="section-container">
        <h3>ğŸŒ¡ï¸ Simulated Environment</h3>
      </div>
      <div id="sliderBox" class="section-container">
        <h3>ğŸ›ï¸ Adjust Environment:</h3>

        <label for="temp">
          <span>ğŸŒ¡ï¸ Temperature: <span id="tempVal">25Â°C (77Â°F)</span></span>
        </label>
        <input type="range" id="temp" min="10" max="40" value="25"/>

        <label for="humidity">
          <span>ğŸ’§ Humidity: <span id="humidityVal">60%</span></span>
        </label>
        <input type="range" id="humidity" min="20" max="100" value="60"/>

        <label for="light">
          <span>â˜€ï¸ Photoperiod: <span id="lightVal">12 hrs</span></span>
        </label>
        <input type="range" id="light" min="6" max="20" value="12"/>

        <label for="co2">
          <span>ğŸ§ª COâ‚‚: <span id="co2Val">400 ppm</span></span>
        </label>
        <input type="range" id="co2" min="300" max="1150" value="400"/>

        <label for="dli">
          <span>ğŸ”† DLI (mol/mÂ²/day): <span id="dliVal">20</span></span>
        </label>
        <input type="range" id="dli" min="0" max="45" value="20"/>

        <label for="ec">
          <span>ğŸ’§ EC (mS/cm): <span id="ecVal">1.0</span></span>
        </label>
        <input type="range" id="ec" min="0.0" max="3.0" step="0.1" value="1.0"/>

        <label for="ph">
          <span>ğŸŒ¿ pH: <span id="phVal">6.0</span></span>
        </label>
        <input type="range" id="ph" min="4.0" max="8.0" step="0.1" value="6.0"/>
      </div>
    </div>

    <!-- Quiz / AI / Results / History / Footer -->
    <div id="quizBox" class="section-container"></div>
    <div id="aiContainer" class="section-container" style="display:none;">
      <textarea
        id="aiRecommendation"
        placeholder="âœï¸ For AI-Generated Scenarios, write your diagnosis & solutions here..."
        aria-label="Your recommendation for AI scenario"
      ></textarea>
    </div>
    <section id="resultBox" class="section-container" style="display:none;" aria-live="polite"></section>
    <section id="historyBox" class="section-container" style="display:none;"></section>
    <div class="footer-buttons">
      <button onclick="checkOutcome()">Submit Scenario</button>
      <button onclick="renderScenario()">Next Scenario</button>
      <button onclick="loadHistory()">Show History</button>
    </div>

    <script type="module" src="firebase.js"></script>
    <script src="script.js"></script>
  </body>
</html>